import { useEffect, useState } from "react";
import { useParams } from "react-router-dom";

export default function ItentionMonthElement() {
    const monthSpelling = [
        "Styczeñ ", "Luty ", "Marzec ", "Kwiecieñ ", "Maj ", "Czerwiec ", "Lipiec ", "Sierpieñ ", "Wrzesieñ ", "PaŸdziernik ", "Listopad ", "Grudzieñ "
    ]
    const { init_date } = useParams();
    const [date, setDate] = useState(new Date(Number(init_date)))
    const [month, setMonth] = useState(new Date(Number(init_date)))
    useEffect(
        () => {
            const newMonth = new Date(date.getTime())
            newMonth.setDate(newMonth.getDate())
            newMonth.setHours(0, 0, 0, 0)
            if (newMonth.getTime() != month.getTime()) {
                {
                    console.log("newWeek")
                    setMonth(newMonth)
                }
            }
        }, [date, month])
    const changeMonth = (change: number) =>
        {
        date.setMonth(date.getMonth() + change)
        setDate(new Date(date.getTime()));
        }

    return (

        <>
            <div className="content-intentionmonth">
                <input type="button" value="<" onClick={() => changeMonth(-1)} />
                <h3>{monthSpelling[date.getMonth()] + date.getFullYear()}</h3>
                <input type="button" value=">" onClick={() => changeMonth(1)} />
                <div className="clear"/>
            </div >
        </>
    );
}